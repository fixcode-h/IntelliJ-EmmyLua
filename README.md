![logo](/snapshot/logo.png)

# EmmyLua for IntelliJ IDEA

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![JetBrains Plugin](https://img.shields.io/jetbrains/plugin/v/9768-emmylua.svg)](https://plugins.jetbrains.com/plugin/9768-emmylua)
[![Downloads](https://img.shields.io/jetbrains/plugin/d/9768-emmylua.svg)](https://plugins.jetbrains.com/plugin/9768-emmylua)

EmmyLua æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Lua è¯­è¨€æ”¯æŒæ’ä»¶ï¼Œä¸“ä¸º IntelliJ IDEA ç³»åˆ— IDE è®¾è®¡ã€‚åœ¨åŸæœ‰ EmmyLua åŠŸèƒ½åŸºç¡€ä¸Šï¼Œæœ¬ç‰ˆæœ¬ç‰¹åˆ«å¢åŠ äº† **LuaPanda è°ƒè¯•æ¨¡å¼**ï¼Œä¸º Lua å¼€å‘è€…æä¾›æ›´å®Œæ•´çš„å¼€å‘ä½“éªŒã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ”§ æ ¸å¿ƒåŠŸèƒ½
- **æ™ºèƒ½ä»£ç è¡¥å…¨** - åŸºäºç±»å‹æ¨æ–­çš„æ™ºèƒ½è¡¥å…¨ï¼Œæ”¯æŒå‡½æ•°ã€å˜é‡ã€å­—æ®µç­‰
- **è¯­æ³•é«˜äº®** - å®Œæ•´çš„ Lua è¯­æ³•é«˜äº®æ”¯æŒï¼Œæ”¯æŒ Lua 5.0-5.4 æ‰€æœ‰ç‰ˆæœ¬
- **ä»£ç å¯¼èˆª** - å¿«é€Ÿè·³è½¬åˆ°å®šä¹‰ã€æŸ¥æ‰¾å¼•ç”¨ã€ç¬¦å·æœç´¢
- **ä»£ç é‡æ„** - é‡å‘½åã€æå–æ–¹æ³•ã€å†…è”å˜é‡ç­‰é‡æ„æ“ä½œ
- **é”™è¯¯æ£€æµ‹** - å®æ—¶è¯­æ³•é”™è¯¯æ£€æµ‹å’Œæ™ºèƒ½ä¿®å¤å»ºè®®
- **ä»£ç æ ¼å¼åŒ–** - è‡ªåŠ¨ä»£ç æ ¼å¼åŒ–å’Œä»£ç é£æ ¼æ£€æŸ¥
- **ä»£ç æŠ˜å ** - æ”¯æŒå‡½æ•°ã€è¡¨ã€æ³¨é‡Šç­‰ä»£ç å—çš„æŠ˜å 

### ğŸ› è°ƒè¯•åŠŸèƒ½
- **LuaPanda è°ƒè¯•å™¨é›†æˆ** - æ”¯æŒæ–­ç‚¹è°ƒè¯•ã€å•æ­¥æ‰§è¡Œã€å˜é‡æŸ¥çœ‹
  - è‡ªåŠ¨ç‰ˆæœ¬æ£€æµ‹å’Œæ›´æ–°æé†’
  - æ”¯æŒæ¡ä»¶æ–­ç‚¹å’Œæ—¥å¿—æ–­ç‚¹
  - å®æ—¶å˜é‡ç›‘è§†å’Œè¡¨è¾¾å¼æ±‚å€¼
  - è°ƒç”¨æ ˆè·Ÿè¸ªå’Œçº¿ç¨‹ç®¡ç†
- **Emmy è°ƒè¯•å™¨æ”¯æŒ** - å†…ç½® Emmy è°ƒè¯•å™¨ï¼Œæ”¯æŒå¤šå¹³å°è°ƒè¯•
- **é™„åŠ è°ƒè¯•** - æ”¯æŒé™„åŠ åˆ°æ­£åœ¨è¿è¡Œçš„ Lua è¿›ç¨‹è¿›è¡Œè°ƒè¯•
- **è°ƒè¯•æ§åˆ¶å°** - äº¤äº’å¼è°ƒè¯•æ§åˆ¶å°ï¼Œæ”¯æŒè¡¨è¾¾å¼æ±‚å€¼

### ğŸ“š æ–‡æ¡£æ”¯æŒ
- **å¿«é€Ÿæ–‡æ¡£** - é¼ æ ‡æ‚¬åœæ˜¾ç¤ºå‡½æ•°æ–‡æ¡£
- **å‚æ•°æç¤º** - å‡½æ•°è°ƒç”¨æ—¶çš„å‚æ•°æç¤ºå’Œç±»å‹æ£€æŸ¥
- **ç±»å‹æ³¨è§£** - æ”¯æŒ EmmyLua æ³¨è§£è¯­æ³•ï¼Œæä¾›æ›´å¥½çš„ç±»å‹æ¨æ–­
- **æ™ºèƒ½æç¤º** - åŸºäºä¸Šä¸‹æ–‡çš„æ™ºèƒ½ä»£ç æç¤º

### ğŸ¯ é«˜çº§åŠŸèƒ½
- **å¤š Lua ç‰ˆæœ¬æ”¯æŒ** - æ”¯æŒ Lua 5.0/5.1/5.2/5.3/5.4
- **æ ‡å‡†åº“æ”¯æŒ** - å†…ç½®å®Œæ•´çš„ Lua æ ‡å‡†åº“å®šä¹‰
- **ä»£ç æ£€æŸ¥** - ä»£ç è´¨é‡æ£€æŸ¥å’Œæœ€ä½³å®è·µå»ºè®®
- **ç»“æ„è§†å›¾** - æ–‡ä»¶ç»“æ„æ ‘çŠ¶è§†å›¾
- **æ–¹æ³•åˆ†éš”ç¬¦** - å¯è§†åŒ–æ–¹æ³•åˆ†éš”çº¿
- **Unreal Engine æ”¯æŒ** - ç‰¹åˆ«ä¼˜åŒ–çš„ UE Lua å¼€å‘æ”¯æŒ

## ğŸ“¸ åŠŸèƒ½é¢„è§ˆ

| åŠŸèƒ½ | é¢„è§ˆ |
|------|------|
| ä»£ç è¡¥å…¨ä¸å¯¼èˆª | ![overview](/snapshot/overview.gif) |
| æŸ¥æ‰¾å¼•ç”¨ | ![find_usages](/snapshot/find_usages.gif) |
| å¿«é€Ÿæ–‡æ¡£ | ![quick_documentation](/snapshot/quick_documentation.gif) |
| é‡å‘½åé‡æ„ | ![rename](/snapshot/rename.gif) |
| è·³è½¬åˆ°ç±» | ![go_to_class](/snapshot/go_to_class.gif) |
| è·³è½¬åˆ°ç¬¦å· | ![go_to_symbol](/snapshot/go_to_symbol.gif) |
| æ–¹æ³•é‡å†™æ ‡è®° | ![method_override](/snapshot/method_override_line_marker.gif) |
| å‚æ•°æç¤º | ![param_hints](/snapshot/param_hints.png) |
| æ–¹æ³•åˆ†éš”ç¬¦ | ![method_separators](/snapshot/method_separators.png) |
| ç»“æ„è§†å›¾ | ![structure_view](/snapshot/structure_view.jpg) |

## ğŸš€ å®‰è£…æ–¹å¼

### æ–¹å¼ä¸€ï¼šé€šè¿‡ JetBrains æ’ä»¶å¸‚åœºï¼ˆæ¨èï¼‰
1. æ‰“å¼€ IntelliJ IDEA æˆ–å…¶ä»–æ”¯æŒçš„ JetBrains IDE
2. è¿›å…¥ `File` â†’ `Settings` â†’ `Plugins`ï¼ˆmacOS: `IntelliJ IDEA` â†’ `Preferences` â†’ `Plugins`ï¼‰
3. åœ¨ `Marketplace` æ ‡ç­¾é¡µæœç´¢ "EmmyLua"
4. ç‚¹å‡» `Install` å®‰è£…æ’ä»¶
5. é‡å¯ IDE

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…
1. ä» [Releases](https://github.com/tangzx/IntelliJ-EmmyLua/releases) é¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
2. è¿›å…¥ `File` â†’ `Settings` â†’ `Plugins`
3. ç‚¹å‡»é½¿è½®å›¾æ ‡ â†’ `Install Plugin from Disk...`
4. é€‰æ‹©ä¸‹è½½çš„æ’ä»¶æ–‡ä»¶ï¼ˆ.zip æ ¼å¼ï¼‰
5. é‡å¯ IDE

## ğŸ› ï¸ ä½¿ç”¨æŒ‡å—

### åŸºç¡€é…ç½®
1. **åˆ›å»º Lua é¡¹ç›®**
   - æ–°å»ºé¡¹ç›®æ—¶é€‰æ‹© "Empty Project"
   - ç¡®ä¿é¡¹ç›®ä¸­çš„ Lua æ–‡ä»¶æ‰©å±•åä¸º `.lua`
   - æ’ä»¶ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶æä¾›è¯­è¨€æ”¯æŒ

2. **é…ç½® Lua SDK**ï¼ˆå¯é€‰ï¼‰
   - è¿›å…¥ `File` â†’ `Project Structure` â†’ `SDKs`
   - æ·»åŠ  Lua SDK è·¯å¾„ä»¥è·å¾—æ›´å¥½çš„æ ‡å‡†åº“æ”¯æŒ

### è°ƒè¯•é…ç½®

#### LuaPanda è°ƒè¯•å™¨é…ç½®
1. **å®‰è£… LuaPanda åº“**
   ```bash
   # ä½¿ç”¨ luarocks å®‰è£…
   luarocks install luapanda
   ```

2. **åœ¨é¡¹ç›®ä¸­é›†æˆ LuaPanda**
   - æ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æç¤ºæ·»åŠ  LuaPanda.lua æ–‡ä»¶
   - æˆ–æ‰‹åŠ¨å°† LuaPanda.lua å¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•

3. **åœ¨ä»£ç ä¸­å¯ç”¨è°ƒè¯•**
   ```lua
   require("LuaPanda").start("127.0.0.1", 8818)
   ```

4. **åˆ›å»ºè°ƒè¯•é…ç½®**
   - è¿›å…¥ `Run` â†’ `Edit Configurations`
   - ç‚¹å‡» `+` â†’ `LuaPanda Debug`
   - é…ç½®è°ƒè¯•å‚æ•°ï¼ˆä¸»æœºã€ç«¯å£ç­‰ï¼‰

#### Emmy è°ƒè¯•å™¨é…ç½®
1. **åˆ›å»º Emmy è°ƒè¯•é…ç½®**
   - è¿›å…¥ `Run` â†’ `Edit Configurations`
   - ç‚¹å‡» `+` â†’ `Emmy Debugger`
   - è®¾ç½®ç›®æ ‡ Lua åº”ç”¨ç¨‹åºè·¯å¾„

2. **å¯åŠ¨è°ƒè¯•ä¼šè¯**
   - è®¾ç½®æ–­ç‚¹
   - ç‚¹å‡»è°ƒè¯•æŒ‰é’®å¯åŠ¨

### ç±»å‹æ³¨è§£ä½¿ç”¨

EmmyLua æ”¯æŒä¸°å¯Œçš„ç±»å‹æ³¨è§£è¯­æ³•ï¼Œæä¾›æ›´å¥½çš„ä»£ç æ™ºèƒ½ï¼š

```lua
---@class Player : Object
---@field name string ç©å®¶å§“å
---@field level number ç©å®¶ç­‰çº§
---@field inventory table<string, Item> ç‰©å“æ¸…å•
local Player = {}

---åˆ›å»ºæ–°ç©å®¶
---@param name string ç©å®¶å§“å
---@param level number åˆå§‹ç­‰çº§
---@return Player ç©å®¶å®ä¾‹
function Player:new(name, level)
    local obj = {
        name = name,
        level = level or 1,
        inventory = {}
    }
    setmetatable(obj, self)
    self.__index = self
    return obj
end

---@param item Item è¦æ·»åŠ çš„ç‰©å“
---@param count number? æ•°é‡ï¼Œé»˜è®¤ä¸º1
function Player:addItem(item, count)
    count = count or 1
    -- å®ç°ä»£ç ...
end

---@generic T
---@param list T[] åˆ—è¡¨
---@return T? ç¬¬ä¸€ä¸ªå…ƒç´ 
function getFirst(list)
    return list[1]
end
```

### é«˜çº§åŠŸèƒ½

#### ä»£ç æ£€æŸ¥é…ç½®
1. è¿›å…¥ `File` â†’ `Settings` â†’ `Editor` â†’ `Inspections`
2. å±•å¼€ `Lua` åˆ†ç±»
3. å¯ç”¨æˆ–ç¦ç”¨ç‰¹å®šçš„ä»£ç æ£€æŸ¥è§„åˆ™

#### ä»£ç æ ¼å¼åŒ–é…ç½®
1. è¿›å…¥ `File` â†’ `Settings` â†’ `Editor` â†’ `Code Style` â†’ `Lua`
2. é…ç½®ç¼©è¿›ã€ç©ºæ ¼ã€æ¢è¡Œç­‰æ ¼å¼åŒ–é€‰é¡¹

#### Unreal Engine é¡¹ç›®é…ç½®
1. åœ¨é¡¹ç›®è®¾ç½®ä¸­é€‰æ‹©é¡¹ç›®ç±»å‹ä¸º "Unreal Engine"
2. é…ç½® .uproject æ–‡ä»¶è·¯å¾„
3. äº«å—é’ˆå¯¹ UE Lua çš„ç‰¹æ®Šä¼˜åŒ–

## ğŸ”§ æ”¯æŒçš„ IDE ç‰ˆæœ¬

- **IntelliJ IDEA** (Community & Ultimate)
- **PyCharm** (Community & Professional)
- **WebStorm**
- **PhpStorm**
- **RubyMine**
- **CLion**
- **GoLand**
- **DataGrip**
- **Rider**
- **Android Studio**

**ç‰ˆæœ¬è¦æ±‚ï¼š**
- **æœ€æ–°ç‰ˆæœ¬ï¼š** 2025.2+ ï¼ˆæ¨èï¼‰
- **æœ€ä½ç‰ˆæœ¬ï¼š** 2025.1+
- **Java ç‰ˆæœ¬ï¼š** JDK 17+ ï¼ˆ2025.1ï¼‰ï¼ŒJDK 21+ ï¼ˆ2025.2ï¼‰

## ğŸ“ æ›´æ–°æ—¥å¿—

### æœ€æ–°ç‰ˆæœ¬ç‰¹æ€§ (v1.3.0+)
- âœ… **å¢å¼ºçš„ LuaPanda è°ƒè¯•æ”¯æŒ**
  - è‡ªåŠ¨ç‰ˆæœ¬æ£€æµ‹å’Œæ›´æ–°æé†’
  - æ”¹è¿›çš„æ–­ç‚¹ç®¡ç†å’Œè°ƒè¯•ä½“éªŒ
  - æ›´ç¨³å®šçš„è¿œç¨‹è°ƒè¯•è¿æ¥
- âœ… **æ”¹è¿›çš„ä»£ç è¡¥å…¨ç®—æ³•**
  - æ›´å‡†ç¡®çš„ç±»å‹æ¨æ–­
  - æ›´å¿«çš„è¡¥å…¨å“åº”é€Ÿåº¦
  - æ”¯æŒæ³›å‹ç±»å‹æ¨æ–­
- âœ… **ä¼˜åŒ–çš„æ€§èƒ½è¡¨ç°**
  - å‡å°‘å†…å­˜å ç”¨
  - æå‡å¤§å‹é¡¹ç›®çš„å“åº”é€Ÿåº¦
  - ä¼˜åŒ–ç´¢å¼•æ„å»ºè¿‡ç¨‹
- âœ… **æ–°å¢åŠŸèƒ½**
  - æ”¯æŒ Lua 5.4 æ–°è¯­æ³•ç‰¹æ€§
  - æ”¹è¿›çš„ Unreal Engine é›†æˆ
  - æ›´å¥½çš„é”™è¯¯æŠ¥å‘Šæœºåˆ¶
- âœ… **ä¿®å¤çš„å·²çŸ¥é—®é¢˜**
  - ä¿®å¤äº†å¤šä¸ªä»£ç è¡¥å…¨ç›¸å…³çš„ bug
  - è§£å†³äº†è°ƒè¯•å™¨è¿æ¥é—®é¢˜
  - æ”¹è¿›äº†æ’ä»¶ç¨³å®šæ€§

æŸ¥çœ‹å®Œæ•´çš„ [æ›´æ–°æ—¥å¿—](CHANGELOG.md)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

### å¼€å‘ç¯å¢ƒè®¾ç½®
1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/tangzx/IntelliJ-EmmyLua.git
   cd IntelliJ-EmmyLua
   ```

2. **æ„å»ºé¡¹ç›®**
   ```bash
   ./gradlew build
   ```

3. **è¿è¡Œæµ‹è¯•**
   ```bash
   ./gradlew test
   ```

### è´¡çŒ®æµç¨‹
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ
- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ› é—®é¢˜åé¦ˆ

é‡åˆ°é—®é¢˜ï¼Ÿè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼åé¦ˆï¼š

1. **GitHub Issues**ï¼š[æäº¤é—®é¢˜](https://github.com/tangzx/IntelliJ-EmmyLua/issues)
2. **åŠŸèƒ½è¯·æ±‚**ï¼šä½¿ç”¨ "enhancement" æ ‡ç­¾
3. **Bug æŠ¥å‘Š**ï¼šä½¿ç”¨ "bug" æ ‡ç­¾ï¼Œå¹¶æä¾›è¯¦ç»†çš„å¤ç°æ­¥éª¤

### æŠ¥å‘Š Bug æ—¶è¯·åŒ…å«ï¼š
- IDE ç‰ˆæœ¬å’Œæ’ä»¶ç‰ˆæœ¬
- æ“ä½œç³»ç»Ÿä¿¡æ¯
- è¯¦ç»†çš„å¤ç°æ­¥éª¤
- ç›¸å…³çš„é”™è¯¯æ—¥å¿—
- æœ€å°åŒ–çš„ç¤ºä¾‹ä»£ç 

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [Apache License 2.0](LICENSE.txt) è®¸å¯è¯å¼€æºã€‚

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢æ‰€æœ‰ [è´¡çŒ®è€…](https://github.com/tangzx/IntelliJ-EmmyLua/graphs/contributors) çš„åŠªåŠ›
- æ„Ÿè°¢ JetBrains æä¾›çš„ä¼˜ç§€ IDE å¹³å°
- æ„Ÿè°¢ Lua ç¤¾åŒºçš„æ”¯æŒå’Œåé¦ˆ
- ç‰¹åˆ«æ„Ÿè°¢ LuaPanda é¡¹ç›®çš„é›†æˆæ”¯æŒ

## ğŸ“ è”ç³»æ–¹å¼

- **ä½œè€…ï¼š** [**@tangzx** é˜¿å”](https://github.com/tangzx)
- **é‚®ç®±ï¼š** love.tangzx@qq.com
- **é—®é¢˜åé¦ˆï¼š** [GitHub Issues](https://github.com/tangzx/IntelliJ-EmmyLua/issues)
- **è®¨è®ºäº¤æµï¼š** [GitHub Discussions](https://github.com/tangzx/IntelliJ-EmmyLua/discussions)

## ğŸŒŸ æ”¯æŒé¡¹ç›®

å¦‚æœè¿™ä¸ªæ’ä»¶å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ï¼š

- ç»™æˆ‘ä»¬ä¸€ä¸ª â­ **Star**
- åœ¨ [JetBrains æ’ä»¶å¸‚åœº](https://plugins.jetbrains.com/plugin/9768-emmylua) ç•™ä¸‹è¯„ä»·
- åˆ†äº«ç»™å…¶ä»– Lua å¼€å‘è€…
- å‚ä¸é¡¹ç›®è´¡çŒ®

---

**è®© Lua å¼€å‘æ›´åŠ é«˜æ•ˆï¼** ğŸš€